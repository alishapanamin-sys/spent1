<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Spin & Win</title>

<style>
body{
  margin:0;
  font-family:system-ui;
  background:radial-gradient(circle at top,#1e293b,#0f172a);
  color:#fff;
  text-align:center;
  padding:20px 15px 40px;
}

h1{
  font-size:22px;
  font-weight:900;
  margin-bottom:20px;
}

.wheel-container{
  position:relative;
  width:100%;
  max-width:420px;
  margin:0 auto;
}

canvas{
  width:100%;
  height:auto;
}

.pointer{
  position:absolute;
  top:-5px;
  left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:18px solid transparent;
  border-right:18px solid transparent;
  border-top:30px solid gold;
}

#spinBtn{
  margin-top:20px;
  width:100%;
  max-width:420px;
  padding:18px;
  font-size:20px;
  font-weight:900;
  border:none;
  border-radius:14px;
  background:gold;
  color:#000;
}

.result{
  margin-top:20px;
  display:none;
}

.result img{
  width:160px;
  margin-top:10px;
}

#continueBtn{
  display:none;
  margin-top:15px;
  padding:15px;
  width:100%;
  max-width:420px;
  font-size:18px;
  font-weight:800;
  background:#22c55e;
  color:#000;
  text-decoration:none;
  border-radius:12px;
}

.disclaimer{
  margin-top:20px;
  font-size:11px;
  opacity:.6;
}
</style>
</head>

<body>

<h1>Spin the Wheel to Unlock Your Reward</h1>

<div class="wheel-container">
  <div class="pointer"></div>
  <canvas id="wheel" width="500" height="500"></canvas>
</div>

<button id="spinBtn">SPIN</button>

<div class="result" id="resultBox">
  <h3 id="resultText"></h3>
  <img id="resultImage" src="">
</div>

<a id="continueBtn" href="#">Continue</a>

<div class="disclaimer">
This is a promotional game. Rewards may include a chance to win selected items.
</div>

<script>
const SMARTLINK="https://iconics.adsleads1.store/?utm_medium=24c9e8ead1a61abc4ca11515604da84dbebe69ba&utm_campaign=spent";

const segments=[
{label:"iPhone 17",img:"https://i.imgur.com/1bX5QH6.png",weight:6,win:true},
{label:"Top iPad",img:"https://i.imgur.com/3cX6J7A.png",weight:6,win:true},
{label:"Samsung Ultra",img:"https://i.imgur.com/7yUvePI.png",weight:6,win:true},
{label:"Gift Card",img:"https://i.imgur.com/Fj6Yq6R.png",weight:15,win:true},
{label:"No Prize",img:"https://i.imgur.com/8Q2Z6Fv.png",weight:10,win:false},
{label:"Good Luck",img:"https://i.imgur.com/8Q2Z6Fv.png",weight:10,win:false},
];

const colors=["#f59e0b","#22c55e","#3b82f6","#ef4444","#a855f7","#f97316"];

const canvas=document.getElementById("wheel");
const ctx=canvas.getContext("2d");
const center=250;
const radius=240;
const arc=2*Math.PI/segments.length;
let angle=0;
let spinning=false;

const images=[];
segments.forEach((seg,i)=>{
  const img=new Image();
  img.src=seg.img;
  images[i]=img;
});

function draw(){
ctx.clearRect(0,0,500,500);

for(let i=0;i<segments.length;i++){
const start=i*arc+angle;
const end=start+arc;

ctx.beginPath();
ctx.moveTo(center,center);
ctx.arc(center,center,radius,start,end);
ctx.fillStyle=colors[i];
ctx.fill();

ctx.save();
ctx.translate(center,center);
ctx.rotate(start+arc/2);

if(images[i].complete){
ctx.drawImage(images[i],radius-80,-30,60,60);
}

ctx.restore();
}
}

draw();

function weightedPick(){
let sum=segments.reduce((a,b)=>a+b.weight,0);
let rand=Math.random()*sum;
for(let seg of segments){
rand-=seg.weight;
if(rand<=0)return seg;
}
return segments[0];
}

document.getElementById("spinBtn").onclick=function(){
if(spinning)return;
spinning=true;

let chosen=weightedPick();
let index=segments.indexOf(chosen);

let spinAngle=6*2*Math.PI+(2*Math.PI-(index*arc));
let start=angle;
let duration=4000;
let startTime=null;

function animate(t){
if(!startTime)startTime=t;
let progress=t-startTime;
angle=start+(spinAngle-start)*(progress/duration);
draw();

if(progress<duration){
requestAnimationFrame(animate);
}else{
spinning=false;

document.getElementById("resultBox").style.display="block";
document.getElementById("resultText").innerText=
chosen.win?"Congratulations! Chance to win "+chosen.label:"No Prize This Time";
document.getElementById("resultImage").src=chosen.img;
document.getElementById("continueBtn").style.display="block";
document.getElementById("continueBtn").href=SMARTLINK;
}
}

requestAnimationFrame(animate);
};
</script>

</body>
</html>
